<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>문장 공유하기 - ChaekMate</title>
    <link rel="stylesheet" href="/src/styles/sentence-sns.css">
</head>
<body>
    <!-- 상단 헤더 -->
    <header class="main-header">
        <div class="top-bar">
            <div class="container">
                <div class="top-menu">
                    <a href="/login.html">로그인</a>
                    <a href="/signup.html">회원가입</a>
                    <a href="#order">주문배송</a>
                    <a href="/cs.html">고객센터</a>
                </div>
            </div>
        </div>

        <div class="header-main">
            <div class="container">
                <h1 class="logo">
                    <a href="/home.html">ChaekMate</a>
                </h1>

                <div class="search-area">
                    <input type="text" class="search-input" placeholder="검색어를 입력하세요" id="searchInput">
                    <button class="search-btn" id="searchBtn">🔍</button>
                </div>

                <div class="header-icons">
                    <a href="/mypage.html" class="icon-link">
                        <span class="icon">👤</span>
                        <span>마이페이지</span>
                    </a>
                    <a href="/cart.html" class="icon-link">
                        <span class="icon">🛒</span>
                        <span>장바구니</span>
                    </a>
                </div>
            </div>
        </div>

        <nav class="main-nav">
            <div class="container">
                <ul class="nav-menu">
                    <li><a href="/bestseller.html">베스트셀러</a></li>
                    <li><a href="/new-books.html">신간</a></li>
                    <li><a href="/recommend.html">추천</a></li>
                    <li><a href="/sentence-sns.html" class="active">문장 SNS</a></li>
                    <li><a href="/event.html">이벤트</a></li>
                </ul>
            </div>
        </nav>
    </header>

    <!-- 메인 컨텐츠 -->
    <main class="main">
        <div class="container write-container">
            <!-- 페이지 헤더 -->
            <div class="page-header">
                <h1 class="page-title">✍️ 문장 공유하기</h1>
                <p class="page-desc">책에서 발견한 울림을 나눠주세요</p>
            </div>

            <!-- 작성 폼 -->
            <form class="write-form" id="sentenceForm">
                <!-- 도서 선택 -->
                <div class="form-section">
                    <label class="form-label">
                        책 선택 <span class="required">*</span>
                    </label>
                    <div class="book-search-box">
                        <input 
                            type="text" 
                            class="form-input" 
                            placeholder="책 제목이나 저자를 검색하세요"
                            id="bookSearch"
                        >
                        <button type="button" class="btn-search-book">🔍 검색</button>
                    </div>
                    <div class="selected-book" id="selectedBook" style="display: none;">
                        <div class="book-mini-cover">📕</div>
                        <div class="book-mini-info">
                            <h4 id="selectedBookTitle">선택된 책</h4>
                            <p id="selectedBookAuthor">저자</p>
                        </div>
                        <button type="button" class="btn-remove">×</button>
                    </div>
                </div>

                <!-- 문장 입력 -->
                <div class="form-section">
                    <label class="form-label">
                        인상 깊은 문장 <span class="required">*</span>
                    </label>
                    <textarea 
                        class="form-textarea sentence-input" 
                        placeholder="책에서 가장 인상 깊었던 문장을 입력해주세요"
                        maxlength="500"
                        rows="6"
                        id="sentenceText"
                        required
                    ></textarea>
                    <div class="char-count">
                        <span id="sentenceCount">0</span> / 500
                    </div>
                </div>

                <!-- 페이지 번호 (선택) -->
                <div class="form-section">
                    <label class="form-label">
                        페이지 번호 <span class="optional">(선택)</span>
                    </label>
                    <input 
                        type="number" 
                        class="form-input short" 
                        placeholder="예: 42"
                        id="pageNumber"
                        min="1"
                    >
                </div>

                <!-- 나의 감상 (선택) -->
                <div class="form-section">
                    <label class="form-label">
                        나의 감상 <span class="optional">(선택)</span>
                    </label>
                    <textarea 
                        class="form-textarea" 
                        placeholder="이 문장이 내게 남긴 울림을 자유롭게 작성해주세요"
                        maxlength="300"
                        rows="4"
                        id="myThoughts"
                    ></textarea>
                    <div class="char-count">
                        <span id="thoughtsCount">0</span> / 300
                    </div>
                </div>

                <!-- 해시태그 -->
                <div class="form-section">
                    <label class="form-label">
                        해시태그 <span class="optional">(선택, 최대 5개)</span>
                    </label>
                    <div class="hashtag-input-wrapper">
                        <input 
                            type="text" 
                            class="form-input" 
                            placeholder="#위로 #감동 #인생"
                            id="hashtagInput"
                        >
                        <button type="button" class="btn-add-tag">추가</button>
                    </div>
                    <div class="hashtag-list" id="hashtagList"></div>
                    <div class="hashtag-suggestions">
                        <span class="suggestion-tag">#위로</span>
                        <span class="suggestion-tag">#감동</span>
                        <span class="suggestion-tag">#인생</span>
                        <span class="suggestion-tag">#사랑</span>
                        <span class="suggestion-tag">#힐링</span>
                        <span class="suggestion-tag">#동기부여</span>
                    </div>
                </div>

                <!-- 공개 설정 -->
                <div class="form-section">
                    <label class="form-label">공개 설정</label>
                    <div class="radio-group">
                        <label class="radio-label">
                            <input type="radio" name="visibility" value="public" checked>
                            <span>🌍 전체 공개</span>
                        </label>
                        <label class="radio-label">
                            <input type="radio" name="visibility" value="followers">
                            <span>👥 팔로워만</span>
                        </label>
                        <label class="radio-label">
                            <input type="radio" name="visibility" value="private">
                            <span>🔒 나만 보기</span>
                        </label>
                    </div>
                </div>

                <!-- 미리보기 -->
                <div class="preview-section">
                    <h3>미리보기</h3>
                    <article class="sentence-card preview-card">
                        <div class="card-header">
                            <div class="user-info">
                                <div class="user-avatar">U</div>
                                <div class="user-details">
                                    <span class="username">@나</span>
                                    <span class="post-time">방금 전</span>
                                </div>
                            </div>
                        </div>

                        <div class="card-body">
                            <blockquote class="sentence-text" id="previewSentence">
                                문장을 입력하면 여기에 미리보기가 표시됩니다
                            </blockquote>
                            <div class="book-reference" id="previewBook" style="display: none;">
                                <div class="book-mini-cover">📕</div>
                                <div class="book-mini-info">
                                    <h4 id="previewBookTitle">책 제목</h4>
                                    <p id="previewBookAuthor">저자</p>
                                </div>
                            </div>
                            <div class="sentence-tags" id="previewTags"></div>
                        </div>

                        <div class="card-footer">
                            <button type="button" class="action-btn like-btn">
                                <span class="icon">❤️</span>
                                <span class="count">0</span>
                            </button>
                            <button type="button" class="action-btn comment-btn">
                                <span class="icon">💬</span>
                                <span class="count">0</span>
                            </button>
                            <button type="button" class="action-btn bookmark-btn">
                                <span class="icon">🔖</span>
                                <span class="count">0</span>
                            </button>
                        </div>
                    </article>
                </div>

                <!-- 버튼 그룹 -->
                <div class="button-group">
                    <button type="button" class="btn-secondary" id="cancelBtn">취소</button>
                    <button type="submit" class="btn-primary" id="submitBtn">공유하기</button>
                </div>
            </form>
        </div>
    </main>

    <!-- 푸터 -->
    <footer class="main-footer">
        <div class="container">
            <div class="footer-top">
                <div class="footer-menu">
                    <a href="#company">회사소개</a>
                    <a href="/terms.html">이용약관</a>
                    <a href="/privacy.html"><strong>개인정보처리방침</strong></a>
                    <a href="/youth-protection.html">청소년보호정책</a>
                </div>
            </div>

            <div class="footer-info">
                <p class="company-name">ChaekMate (주)책메이트</p>
                <p>대표이사: 김현우 | 사업자등록번호: 123-45-67890</p>
                <p>이메일: contact@chaekmate.com | 고객센터: 1544-0000</p>
            </div>

            <div class="footer-bottom">
                <p>COPYRIGHT © ChaekMate Inc. ALL RIGHTS RESERVED.</p>
            </div>
        </div>
    </footer>

    <script type="module" src="/src/scripts/sentence-write.ts"></script>
</body>
</html>